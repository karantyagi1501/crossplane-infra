# AWS configuration
aws:
  region: ap-south-1

provider:
  # AWS provider package (Upbound)
  package: xpkg.upbound.io/crossplane-contrib/provider-aws:v0.56.0

credentials:
  secretNamespace: crossplane-system
  secretName: aws-secret
  secretKey: creds

# Optional Argo CD sync waves to install the provider before other resources
installOrder:
  enabled: true
  providerWave: "0"
  providerConfigWave: "1"

# Composition-driven VPC configuration
composition:
  enabled: true
  name: aws-vpc
  className: standard
  compositeName: demo-network
  claimName: demo-network
  providerConfigName: aws-provider
  vpc:
    cidrBlock: 10.0.0.0/16
    enableDnsSupport: true
    enableDnsHostnames: true
    tags:
      - key: Name
        value: demo-vpc
      - key: Environment
        value: dev
  publicSubnets:
    - name: demo-public-subnet-a
      cidrBlock: 10.0.1.0/24
      availabilityZone: ap-south-1a
      tags:
        - key: Name
          value: demo-public-subnet-a
        - key: Environment
          value: dev
    - name: demo-public-subnet-b
      cidrBlock: 10.0.11.0/24
      availabilityZone: ap-south-1b
      tags:
        - key: Name
          value: demo-public-subnet-b
        - key: Environment
          value: dev
  privateSubnets:
    - name: demo-private-subnet-a
      cidrBlock: 10.0.2.0/24
      availabilityZone: ap-south-1a
      tags:
        - key: Name
          value: demo-private-subnet-a
        - key: Environment
          value: dev
    - name: demo-private-subnet-b
      cidrBlock: 10.0.12.0/24
      availabilityZone: ap-south-1b
      tags:
        - key: Name
          value: demo-private-subnet-b
        - key: Environment
          value: dev
  natGateway:
    enabled: true
    publicSubnetIndex: 0